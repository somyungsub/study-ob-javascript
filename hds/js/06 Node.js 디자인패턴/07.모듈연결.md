# 7. 모듈 연결

- `모듈 시스템`은 코드를 자체적인 독립된 유닛으로 구성할 수 있는 네이티브적인 방법이 부족한 javascript와 그렇지 않은 언어간 격차를 훌륭히 메워줌
- 그러나 node.js를 처음 사용하는 사람들은 혼란을 느낄 수 있음(모듈 x의 인스턴스를 모듈 y로 전달하는 가장 좋은 방법은 무엇인가?)
- 이러한 혼란으로 싱글톤, 의존성 주입 등 `친숙한 방법`을 찾아 남발하게 되는데, 모듈 연결(wiring)에 사용할만한 접근법을 알아보고 장단점을 파헤쳐보자

#### 이 장에서 알아볼 패턴

- 하드코딩된 종속성
- 의존성 주입
- 서비스 로케이터
- 의존성 주입 컨테이너

## 7-1. 모듈과 의존성

- 어플리케이션이 커짐에 따라, 복잡하게 얽힌 `종속성 그래프`는 골칫거리이며, `기술적 부채`<br>
- 최악의 경우 컴포넌트들이 너무 밀접하게 연결되어 있어서 리팩토링이나 어플리케이션 전체 부분을 완전히 다시 작성하지 않고는 기능을 추가하거나 변경할 수 없게됨
- 일단 종속성 연결의 몇 가지 기본적인 측면을 보자

### 7-1-1. nodejs의 가장 일반적인 종속성

nodejs에서 가장 일반적이며 쉽게 식별할 수 있는 필수 유형의 종속성은 `모듈(Module)`

- 모듈은 (이상적으로는) 보다 집중적이기 때문에 가독성이 높고 이해하기 쉽습니다(1000 line vs 100 line \* 10)
- 별도의 파일로 표현되기 때문에 쉽게 식별할 수 있습니다.(디렉토리, 파일 이름 자체가 이 파일이 뭘하는건지 나타낼 수 있는 부분 ./controller/login.js)
- 모듈을 다른 어플리케이션보다 쉽게 재사용할 수 있음

모듈은 정보 은닉을 수행하고, 공개 인터페이스만을 노출하는 효과 vs 모듈 간 관계가 매우 강하게 만들어버려서 종속성이 아키텍처 대부분을 뒤흔들게 되는 위험성
